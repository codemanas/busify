jQuery(function(a){var s={};({init:function(){this._preloader(),this._cacheDOM(),this._listeners()},_preloader:function(){a(window).load(function(){a(".preloader").fadeOut("slow",function(){a(this).remove()})})},_cacheDOM:function(){s.$headerElement=a("header#masthead"),s.$mainNav=a(".main-navigation"),s.$mainNavBurger=a(".navigation-toggler-icon"),this.$searchIconMenu=a(".menu-item-search"),this.$searchIconMenuClse=a("#busify-close-btn"),this.$loadMoreButton=a("#busify-ajax-load-more"),s.$paginationDiv=a(".busify-pagination"),s.$paginationType=busify_options.ajaxButtonType},_listeners:function(){busify_options.sticky_header.enable&&(a(window).on("scroll",this.stickyHeader),this.stickyHeader()),a(window).on("scroll",this.scrollToTopShow),a(".busify-scroll").on("click",this.scrollToTop.bind(this)),s.$mainNavBurger.on("click",this.toggleNav),busify_options.menu_settings.disable_search||(this.$searchIconMenu.on("click",this.openSearch.bind(this)),this.$searchIconMenuClse.on("click",this.closeSearch.bind(this))),s.$mainNav.on("click",".sub-menu-toggle",this.expandMobileChildrenMenu.bind(this)),"load-more"===s.$paginationType?this.$loadMoreButton.on("click",this.ajaxLoadMorePosts.bind(this)):"load-more-scroll"===s.$paginationType&&a(window).on("scroll.site-content",this.ajaxLoadMorePostsonScroll.bind(this)),a(window).on("resize",this.mobileBinaries.bind(this)),this.mobileBinaries()},mobileBinaries:function(){var e=a(window),o=busify_options.sticky_header;o.enable&&o.disable_mobile&&(this.loadDocumentWidth(767)?e.on("scroll",this.stickyHeader):e.off("scroll",this.stickyHeader)),this.loadDocumentWidth(767,!0)?a(".site-header").removeClass("busify-right-logo busify-left-logo busify-center-logo"):a(".site-header").addClass(busify_options.header_layout)},loadDocumentWidth:function(e,o){return o=o?a(window).width()<=e:a(window).width()>=e},expandMobileChildrenMenu:function(e){this.loadDocumentWidth(767,!0)&&($el=a(e.currentTarget),$el.find("i").toggleClass("fa-caret-down fa-caret-up"),$parentItem=$el.parent(),$parentItem.find("> ul.sub-menu").toggleClass("mobile-show-sub-menu"))},stickyHeader:function(){a(s.$headerElement).outerHeight()<a(window).scrollTop()?a(s.$headerElement).addClass("sticky-header"):a(s.$headerElement).removeClass("sticky-header")},scrollToTopShow:function(){var e=a(".busify-scrolltop");0<a(e).length&&(50<a(window).scrollTop()?a(".busify-scrolltop:hidden").stop(!0,!0).fadeIn():a(e).stop(!0,!0).fadeOut())},scrollToTop:function(e){return e.preventDefault(),0<a(".busify-scrolltop").length&&a("html,body").animate({scrollTop:a("#page").offset().top},"1000"),!1},toggleNav:function(e){e.preventDefault();var o=s.$mainNavBurger;return a(o).toggleClass("toggle-active"),a(s.$mainNav).toggleClass("toggle-active"),!1},ajaxLoadMorePosts:function(){var i=this.$loadMoreButton,t=a(i).data("current-page");i.data("current-page",++t);var e=a(i).data("filter"),o={action:"busify_load_more_posts",page:t,filter:e},n=busify_options.ajaxLoadMoreLocales;a.ajax({url:busify_options.ajaxurl,data:o,type:"POST",context:this,beforeSend:function(){"load-more"===s.$paginationType?a(i).text(n.loading):"load-more-scroll"===s.$paginationType&&(a(window).off("scroll.site-content"),a(i).hide().after('<div id="busify-ajax-spinner" class="fa-3x"><i class="fa fa-spinner fa-spin"></i></div>'))},success:function(e){if(!0===e.success){var o=e.data;if("load-more"===s.$paginationType)a(i).text(n.load_more),a(s.$paginationDiv).prev().after(o.post_html),t>=parseInt(o.max_page)&&a(i).hide();else if("load-more-scroll"===s.$paginationType){if(a("#busify-ajax-spinner").remove(),null===o.post_html||""===o.post_html)return void a(window).off("scroll.site-content");a(s.$paginationDiv).prev().after(o.post_html),a(window).on("scroll.site-content",this.ajaxLoadMorePostsonScroll.bind(this))}}},error:function(){console.log(n.error)}})},ajaxLoadMorePostsonScroll:function(){var e=a(document).find(".site-main article").last();e.offset().top+e.outerHeight()-a(window).height()<a(window).scrollTop()&&this.ajaxLoadMorePosts()},openSearch:function(e){e.preventDefault(),a(this).hide(),a("#busify-search-overlay").fadeIn()},closeSearch:function(e){e.preventDefault(),a("#busify-search-overlay").fadeOut(),a(this).show()}}).init()});