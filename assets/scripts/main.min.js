jQuery(function(a){var s={};({init:function(){this._preloader(),this._cacheDOM(),this._listeners(),this.focusMenuWithChildren()},_preloader:function(){a(window).load(function(){a(".preloader").fadeOut("slow",function(){a(this).remove()})})},_cacheDOM:function(){s.$headerElement=a("header#masthead"),s.$mainNav=a(".main-navigation"),s.$mainNavBurger=a(".navigation-toggler-icon"),this.$searchIconMenu=a(".menu-item-search"),this.$searchIconMenuClse=a("#busify-close-btn"),this.$loadMoreButton=a("#busify-ajax-load-more"),s.$paginationDiv=a(".busify-pagination"),s.$paginationType=busify_options.ajaxButtonType},_listeners:function(){busify_options.sticky_header.enable&&(a(window).on("scroll",this.stickyHeader),this.stickyHeader()),a(window).on("scroll",this.scrollToTopShow),a(".busify-scroll").on("click",this.scrollToTop.bind(this)),s.$mainNavBurger.on("click",this.toggleNav),busify_options.menu_settings.disable_search||(this.$searchIconMenu.on("click",this.openSearch.bind(this)),this.$searchIconMenuClse.on("click",this.closeSearch.bind(this))),s.$mainNav.on("click",".sub-menu-toggle",this.expandMobileChildrenMenu.bind(this)),"load-more"===s.$paginationType&&this.$loadMoreButton.on("click",this.ajaxLoadMorePosts.bind(this)),a(window).on("resize",this.mobileBinaries.bind(this)),this.mobileBinaries()},mobileBinaries:function(){var e=a(window),t=busify_options.sticky_header;t.enable&&t.disable_mobile&&(this.loadDocumentWidth(767)?e.on("scroll",this.stickyHeader):e.off("scroll",this.stickyHeader)),this.loadDocumentWidth(767,!0)&&a(".site-header").removeClass("busify-right-logo busify-left-logo busify-center-logo")},loadDocumentWidth:function(e,t){return t=t?a(window).width()<=e:a(window).width()>=e},expandMobileChildrenMenu:function(e){this.loadDocumentWidth(767,!0)&&($el=a(e.currentTarget),$el.find("i").toggleClass("fa-caret-down fa-caret-up"),$parentItem=$el.parent(),$parentItem.find("> ul.sub-menu").toggleClass("mobile-show-sub-menu"))},stickyHeader:function(){a(s.$headerElement).outerHeight()<a(window).scrollTop()?a(s.$headerElement).addClass("sticky-header"):a(s.$headerElement).removeClass("sticky-header")},scrollToTopShow:function(){var e=a(".busify-scrolltop");0<a(e).length&&(50<a(window).scrollTop()?a(".busify-scrolltop:hidden").stop(!0,!0).fadeIn():a(e).stop(!0,!0).fadeOut())},scrollToTop:function(e){return e.preventDefault(),0<a(".busify-scrolltop").length&&a("html,body").animate({scrollTop:a("#page").offset().top},"1000"),!1},toggleNav:function(e){e.preventDefault();var t=s.$mainNavBurger;return a(t).toggleClass("toggle-active"),a(s.$mainNav).toggleClass("toggle-active"),!1},ajaxLoadMorePosts:function(){var o=this.$loadMoreButton,i=a(o).data("current-page");o.data("current-page",++i);var e=a(o).data("filter"),t={action:"busify_load_more_posts",page:i,filter:e},n=busify_options.ajaxLoadMoreLocales;a.ajax({url:busify_options.ajaxurl,data:t,type:"POST",context:this,beforeSend:function(){"load-more"===s.$paginationType&&a(o).text(n.loading)},success:function(e){if(!0===e.success){var t=e.data;"load-more"===s.$paginationType&&(a(o).text(n.load_more),a(s.$paginationDiv).prev().after(t.post_html),i>=parseInt(t.max_page)&&a(o).hide())}},error:function(){console.log(n.error)}})},openSearch:function(e){e.preventDefault(),a(this).hide(),a("#busify-search-overlay").fadeIn(),a("#busify-search-overlay #search-text").focus()},closeSearch:function(e){e.preventDefault(),a("#busify-search-overlay").fadeOut(),a(this).show()},focusMenuWithChildren:function(){var e,t,o,i=document.querySelector("#site-navigation");if(!i)return!1;for(t=0,o=(e=i.getElementsByTagName("a")).length;t<o;t++)e[t].addEventListener("focus",n,!0),e[t].addEventListener("blur",n,!0);function n(){for(var e=this;-1===e.className.indexOf("primary-menu");)"li"===e.tagName.toLowerCase()&&(-1!==e.className.indexOf("focus")?e.className=e.className.replace(" focus",""):e.className+=" focus"),e=e.parentElement}}}).init()}),/(trident|msie)/i.test(navigator.userAgent)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var e,t=location.hash.substring(1);/^[A-z0-9_-]+$/.test(t)&&(e=document.getElementById(t))&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1),e.focus())},!1);